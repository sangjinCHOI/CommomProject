<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssafy.persona.storage.mapper.StorageMapper">
	<insert id="storageCreate" parameterType="storageCreateRequest">
		insert into tb_storage (character_seq, storage_name, storage_public, storage_created_date)
		values (#{characterSeq}, #{storageName}, #{storagePublic}, now())
	</insert>
	
	<update id="storageModify" parameterType="storageModifyRequest">
		update tb_storage
		set <if test="storageName != null and storageName != ''">
				storage_name = #{storageName},
			</if>
				storage_public = #{storagePublic},
		   		storage_modified_date = now()
		where storage_seq = #{storageSeq} and character_seq = #{characterSeq}
	</update>
	
	<delete id="storageDelete" parameterType="storageDeleteRequest">
		delete from tb_storage
		where storage_seq = #{storageSeq} and character_seq = #{characterSeq}
	</delete>
	
	<select id="storageList" parameterType="int" resultType="StorageListResponse">
		select storage_name as storageName
		from tb_storage
		where character_seq = #{characterSeq}
	</select>
</mapper>